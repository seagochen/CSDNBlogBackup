> 在本系列前4章节，我们快速的过了一遍概率论对于一维随机变量的定义与分类。
> 从最原始直观的经典概率类型出发，我们引申到了条件概率，以及针对条件概率，扩展得到的全概率、贝叶斯概率。
> 在对概率建立起一定概念后，我们又引入了针对是否连续，而提出的连续型和离散型概率事件的模型，并且分别介绍了针对离散型概率事件表达的概率分布函数，与连续型的概率密度函数，并介绍了5种重要的概率模型。

@[toc]

# 关于二维概率事件

二维可以认为是针对一维事件的扩展，由于现实中很多事件可能包含多个变量，所以单纯的用一维模型是无法解决的。因此在教材中引入二维的概念，其实是为了将来面对高维度概率事件做准备。

离散型从概念上说，要比连续型容易理解和入手，所以这里也遵照教材的顺序，从离散型二维随机变量出发，引入二维概率事件。

# 关于离散型二维随机变量

## 分布律（Probability Function / Distribution Law）
再次重申，你需要反复记住一个概念，就是针对离散型的概率模型，有且只有分布律。因为对于离散的点来说，它在**数学上是没有积分面积这个概念的，因为离散的点，即不存在极限，也不存在斜率，所以为了研究离散概率事件，只能研究它的分布函数**，而连续型，是有分布函数的，之所以不常提连续型的概率分布函数，是因为在连续的积分区域里面，更为方便和容易理解连续概率事件的特征。

我一直不是很明白中文教材一些数学专业名词的含义，大抵跟这些概念引入中国是在清中期，比如与李善兰等老先生的工作有关，不过语言是活的，当年的那些概念是否符合今人的习惯，并且能够准确理解，我是抱有怀疑态度的。所以在这个数学基础系列里，在一些我认为有所模糊的地方，都会尝试引入原本的英文定义，或者我认为比较接近小白都能理解的含义。

在前两个章节里，反复提到的分布律，你可以理解为概率集合，或者是概率样本集合。英文直译就是分布概率函数或者分布规律。因此，比方说对于一个一维随机离散型概率事件，它的分布规律/分布律/分布函数，就可以是这样的：

X | 0 | 1 | 2
---|---|---|----
P | 1/15 | 8/15 | 6/15

而对于二维离散概率，就可以得到这样的表现形式：

X\Y   | -1    | 1    | 2 
-------|-------|------|-----
-1     | 0.1   | 0.2  | 0.3
2      | 0.2   | 0.1  | 0.1


## 边缘分布律 (Marginal Distribution Law)

所谓边缘分布律，可以理解为投影，即从一个方向投影到另外一个方向上，线性叠加的过程。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210718160428865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BvaXNvbmNocnk=,size_16,color_FFFFFF,t_70#pic_center)
这个概念和线性代数里的特征向量很相似，只不过要更为简单。因为如果变量X，Y分别为离散随机样本的两个变量，那么当提到X，Y上的边缘分布律时，只是把所有的点映射到X或者Y轴上面。

![在这里插入图片描述](https://img-blog.csdnimg.cn/2021071816585535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BvaXNvbmNocnk=,size_16,color_FFFFFF,t_70#pic_center)


因此，可以有这样简单的公式计算边缘分布律

对于X轴的边缘分布概率，可以得到：

$$P\{ x \} = \sum_y P\{ x, y \} = \sum P\{ x | y \} P \{y \}$$

同理，对于Y轴的边缘分布概率，也可以得到：

$$P\{ y \} = \sum_x P\{ x, y \} = \sum P\{ y | x \} P \{x \}$$

实际上也就是把概率按照一个方向上进行加和运算。


## 独立性

离散型二维随机变量是否满足独立的一个条件，就是看它各自在边缘分布上是否独立。听起来有点绕？其实很简单，大致就是：对于二维离散型随机分布 $P\{ X = x_i, Y = y_j \}$ X和Y是否独立，要满足：

$$P\{ X = x_i, Y = y_j \} \leftrightharpoons  P\{ X=x_i \} \cap P\{ Y = y_j \}$$

稍微细心的朋友，就会发现这其实是第一章节里，基本概率类型的交概率事件，是的！到这里，离散型二维随机变量的基本概念就结束了，不过基于这些概念，可以出的题可是有很多的。

然后我们来试着做点练习题吧：

# 做点练习题吧！
> 已知二维离散型随机变量(X, Y)的联合分布律如下：
> X\Y   | -1    | 1    | 2 
> -------|-------|------|-----
> -1     | 0.1   | 0.2  | 0.3
> 2      | 0.2   | 0.1  | 0.1
> (1) $P \{ X = -1, Y = 2 \}$ 和 $P \{ X \leq Y \}$
> (2) X和Y的边缘分布律
> (3) X和Y是否独立
> (4) $Z = X + Y$， $W = max \{ X, Y \}$ 的分布律
> (5) $P\{ X = -1 | Y = 1 \}$

**解（1）**

从上面的分布律直接查表于是：
$$P \{ X = -1, Y = 2 \} = 0.3$$

对于 $X \leq Y$，可以得到：

当 $X = -1$ 的时候，符合以上条件的Y有 $Y = -1, 1, 2$；当 $X = 2$ 时，可以有 $Y = 2$， 所以我们可以得到：

$$P \{ X \leq Y \} = P\{ -1, -1 \} +  P\{ -1, 1 \} + P\{ -1, 2 \} + P\{ 2, 2 \} = 0.7$$


**解（2）**

根据边缘分布律的定义，我们可以得到：

对于X来说：

$$P \{ X = -1 \} = P \{ -1, -1 \}  + P \{ -1, 1 \} + P \{ -1, 2  \} = 0.6$$

$$P \{ X = 2 \} = P \{ 2, -1 \}  + P \{ 2, 1 \} + P \{ 2, 2  \} = 0.4$$

对于Y来说：
$$P\{ Y = -1 \} = P\{ -1, -1 \} + P\{ 2, -1 \} = 0.3$$

$$P\{ Y = 1 \} = P\{ -1, 1 \} + P\{ 2, 1 \} = 0.3$$

$$P\{ Y = 2 \} = P\{ -1, 2 \} + P\{ 2, 2 \} = 0.4$$

然后我们把以上的分布概率制作成表格：

X | -1   | 2
---|------|----
P | 0.6 | 0.4

Y | -1   |  1  | 2
---|------|----|-----
P | 0.3 | 0.3 | 0.4

**解（3）** 是否独立，我们把上面的边缘分布律进行相乘：

$X \cap Y$   | -1    | 1    | 2 
-------|-------|------|-----
-1     | 0.18   | 0.18  | 0.24
2      | 0.12  | 0.12  | 0.16

然后我们跟原始的分布律表进行对比，发现不一样，所以可以得出事件X和Y不独立

**解（4）** 单纯看题目，好像很难解，于是我们把原始的分布律表换成这样的形式：

(X, Y) | (-1, -1) | (-1, 1) | (-1, 2) | (2, -1) | (2, 1) | (2, 2)
--------|-----------|----------|---------|----------|---------|---------
P      |  0.1       | 0.2      | 0.3     | 0.2      | 0.1     | 0.1

然后我们把新函数的分布律加入到上面的那张表

(X, Y) | (-1, -1) | (-1, 1) | (-1, 2) | (2, -1) | (2, 1) | (2, 2)
--------|-----------|----------|---------|----------|---------|---------
P      |  0.1       | 0.2      | 0.3     | 0.2      | 0.1     | 0.1
Z      |   -2         |  0        | 1        | 1         | 3        | 4
W     | -1           | 1        | 2         | 2         | 2        | 2

然后把概率样本进行加和：

Z   |  -2  | 0   | 1   | 3   | 4
----|------|-----|-----|-----|------
P  | 0.1 | 0.2| 0.5 | 0.1 | 0.1

W | -1 | 1 |  2
----|-------|----|----
P  |  0.1 |  0.2 | 0.7 


**解（5）** 我们根据条件概率的公式；

$$P\{ X = -1 | Y = 1 \} = \frac{P\{X = -1, Y = 1 \}  }{P \{ Y = 1\} }$$

分别从边缘概率和原来的概率分布表中查表可知：

$$P\{ X = -1 | Y = 1 \} = \frac{0.2}{0.3}  = 2/3$$